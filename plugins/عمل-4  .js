let handler = async (m, { conn, usedPrefix }) => {
  try {
    const Ø§Ù„ÙˆÙ‚Øª_Ù„Ù„Ø§Ù†ØªØ¸Ø§Ø± = 300000;
    const Ø§Ù„ÙˆÙ‚Øª_Ø§Ù„Ø­Ø§Ù„ÙŠ = new Date();
    const Ø§Ù„ÙˆÙ‚Øª_Ù…Ù†Ø°_Ø¢Ø®Ø±_Ù…ØºØ§Ù…Ø±Ø© = Ø§Ù„ÙˆÙ‚Øª_Ø§Ù„Ø­Ø§Ù„ÙŠ - global.db.data.users[m.sender].lastadventure;
    const Ø§Ù„ÙˆÙ‚Øª_Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ = Ø§Ù„ÙˆÙ‚Øª_Ù„Ù„Ø§Ù†ØªØ¸Ø§Ø± - Ø§Ù„ÙˆÙ‚Øª_Ù…Ù†Ø°_Ø¢Ø®Ø±_Ù…ØºØ§Ù…Ø±Ø©;
    const Ø§Ù„Ù…Ø¤Ù‚Øª = clockString(Ø§Ù„ÙˆÙ‚Øª_Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ);

    const Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… = global.db.data.users[m.sender];
    const { healt, armor, rubah, kuda, kucing, anjing } = Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…;

    if (healt <= 79) {
      return conn.reply(m.chat, `âš ï¸ *Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØµØ­Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 80* Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ù…ØºØ§Ù…Ø±Ø©. Ø§Ø´ØªØ±Ù Ø§Ù„Ø¯ÙˆØ§Ø¡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ${usedPrefix}shop buy potion <Ø§Ù„ÙƒÙ…ÙŠØ©> ÙˆØ§Ø³ØªØ®Ø¯Ù…Ù‡ Ø¨Ù€ ${usedPrefix}use potion <Ø§Ù„ÙƒÙ…ÙŠØ©>. Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø§Ù„ ÙˆØ§Ù„Ø¬Ø±Ø¹Ø§Øª Ù…Ø¬Ø§Ù†Ù‹Ø§ Ø§ÙƒØªØ¨ *${usedPrefix}claim*`, m);
    }

    if (Ø§Ù„ÙˆÙ‚Øª_Ù…Ù†Ø°_Ø¢Ø®Ø±_Ù…ØºØ§Ù…Ø±Ø© <= Ø§Ù„ÙˆÙ‚Øª_Ù„Ù„Ø§Ù†ØªØ¸Ø§Ø±) {
      return conn.reply(m.chat, `âŒ› *Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ù…ØºØ§Ù…Ø±Ø© Ø¨Ø§Ù„ÙØ¹Ù„*ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ *${Ø§Ù„Ù…Ø¤Ù‚Øª}*`, m);
    }

    const Ø§Ù„ØµØ­Ø© = Math.floor(Math.random() * 101);
    const ØµØ­Ø©_Ø§Ù„Ù‚Ø· = [0, 5, 10, 15, 21, 30][kucing] || 30;
    const ØµØ­Ø©_Ø§Ù„Ø¯Ø±Ø¹ = [0, 5, 10, 15, 21, 30][armor] || 30;
    const Ø§Ù„ØµØ­Ø©_Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© = Ø§Ù„ØµØ­Ø© > 60 ? Ø§Ù„ØµØ­Ø© - ØµØ­Ø©_Ø§Ù„Ù‚Ø· - ØµØ­Ø©_Ø§Ù„Ø¯Ø±Ø¹ : Ø§Ù„ØµØ­Ø©;
    const Ø§Ù„Ø®Ø¨Ø±Ø© = Math.floor(Math.random() * 400) + kuda * 70;
    const Ø§Ù„Ù…Ø§Ù„ = Math.floor(Math.random() * 400) + anjing * 70;
    const Ø§Ù„Ø¬Ø±Ø¹Ø© = Math.floor(Math.random() * 5) + 1; // ÙƒÙ…ÙŠØ© Ø§Ù„Ø¬Ø±Ø¹Ø© ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 1 Ø¥Ù„Ù‰ 5
    const Ø§Ù„Ø£Ù„Ù…Ø§Ø³ = [pickRandom(['0', '1']), pickRandom(['0', '1']), pickRandom(['0', '1', '2']), pickRandom(['0', '1', '2']), pickRandom(['0', '1', '1', '2', '1', '1', '0']), pickRandom(['0', '0', '1', '2', '2', '1', '1', '0'])][rubah] || 0;
    const Ø§Ù„Ø¹Ø§Ø¯ÙŠ = Math.floor(Math.random() * 5) + 1; // ÙƒÙ…ÙŠØ© Ø§Ù„Ø¹Ø§Ø¯ÙŠ ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 1 Ø¥Ù„Ù‰ 5
    const ØºÙŠØ±_Ø§Ù„Ø¹Ø§Ø¯ÙŠ = Math.floor(Math.random() * 3) + 1; // ÙƒÙ…ÙŠØ© ØºÙŠØ± Ø§Ù„Ø¹Ø§Ø¯ÙŠ ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 1 Ø¥Ù„Ù‰ 3
    const Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ = pickRandom(['1', '0', '0', '1']);
    const Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ_Ø§Ù„ÙƒØ¨ÙŠØ± = pickRandom(['1', '0', '0', '0']);
    const Ø§Ù„Ù‚Ù…Ø§Ù…Ø© = Math.floor(Math.random() * 300) + 100; // ÙƒÙ…ÙŠØ© Ø§Ù„Ù‚Ù…Ø§Ù…Ø© ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 100 Ø¥Ù„Ù‰ 399
    const Ø§Ù„Ø®Ø´Ø¨ = Math.floor(Math.random() * 3) + 1; // ÙƒÙ…ÙŠØ© Ø§Ù„Ø®Ø´Ø¨ ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 1 Ø¥Ù„Ù‰ 3
    const Ø§Ù„Ø­Ø¬Ø± = Math.floor(Math.random() * 2) + 1; // ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø¬Ø± ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 1 Ø¥Ù„Ù‰ 2
    const Ø§Ù„Ø­Ø¨Ù„ = Math.floor(Math.random() * 2) + 1; // ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø¨Ù„ ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 1 Ø¥Ù„Ù‰ 2
    const Ø§Ù„Ø­Ø¯ÙŠØ¯ = Math.floor(Math.random() * 2) + 1; // ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø¯ÙŠØ¯ ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 1 Ø¥Ù„Ù‰ 2

    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….healt -= Ø§Ù„ØµØ­Ø©;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….exp += Ø§Ù„Ø®Ø¨Ø±Ø©;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….money += Ø§Ù„Ù…Ø§Ù„;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….potion += Ø§Ù„Ø¬Ø±Ø¹Ø©;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….diamond += Ø§Ù„Ø£Ù„Ù…Ø§Ø³;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….common += Ø§Ù„Ø¹Ø§Ø¯ÙŠ;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….uncommon += ØºÙŠØ±_Ø§Ù„Ø¹Ø§Ø¯ÙŠ;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….sampah += Ø§Ù„Ù‚Ù…Ø§Ù…Ø©;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….iron += Ø§Ù„Ø­Ø¯ÙŠØ¯;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….batu += Ø§Ù„Ø­Ø¬Ø±;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….kayu += Ø§Ù„Ø®Ø´Ø¨;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….string += Ø§Ù„Ø­Ø¨Ù„;
    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….lastadventure = Ø§Ù„ÙˆÙ‚Øª_Ø§Ù„Ø­Ø§Ù„ÙŠ;

    const str = `
*${rpg.emoticon('healt')} ÙÙ‚Ø¯Øª ${Ø§Ù„ØµØ­Ø©} ØµØ­Ø©* Ù„Ø£Ù†Ùƒ Ù‚Ù…Øª Ø¨Ù…ØºØ§Ù…Ø±Ø© Ø¥Ù„Ù‰ *${pickRandom(['ðŸŒ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù„Ù…', 'ðŸŒŒ Ø§Ù„ÙØ¶Ø§Ø¡ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ', 'ðŸ—ºï¸ Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ø­Ù„Ø§Ù…', 'ðŸš€ Ø§Ù„Ù…Ø±ÙŠØ®', 'ðŸŒš Ø§Ù„Ù‚Ù…Ø±', 'ðŸª Ø¨Ù„ÙˆØªÙˆ', 'ðŸŒž Ø§Ù„Ø´Ù…Ø³', 'â¤ï¸ Ù‚Ù„Ø¨Ù‡Ø§', '...'])}* ÙˆØ­ØµÙ„Øª Ø¹Ù„Ù‰
*${rpg.emoticon('exp')} Ø§Ù„Ø®Ø¨Ø±Ø©:* ${Ø§Ù„Ø®Ø¨Ø±Ø©}
*${rpg.emoticon('money')} Ø§Ù„Ù…Ø§Ù„:* ${Ø§Ù„Ù…Ø§Ù„}
*${rpg.emoticon('sampah')} Ø§Ù„Ù‚Ù…Ø§Ù…Ø©:* ${Ø§Ù„Ù‚Ù…Ø§Ù…Ø©}${Ø§Ù„Ø¬Ø±Ø¹Ø© === 0 ? '' : `\n*${rpg.emoticon('potion')} Ø§Ù„Ø¬Ø±Ø¹Ø©:* ${Ø§Ù„Ø¬Ø±Ø¹Ø©}`}${Ø§Ù„Ø­Ø¯ÙŠØ¯ === 0 ? '' : `\n*${rpg.emoticon('iron')} Ø§Ù„Ø­Ø¯ÙŠØ¯:* ${Ø§Ù„Ø­Ø¯ÙŠØ¯}`}${Ø§Ù„Ø®Ø´Ø¨ === 0 ? '' : `\n*${rpg.emoticon('kayu')} Ø§Ù„Ø®Ø´Ø¨:* ${Ø§Ù„Ø®Ø´Ø¨}`}${Ø§Ù„Ø­Ø¬Ø± === 0 ? '' : `\n*${rpg.emoticon('batu')} Ø§Ù„Ø­Ø¬Ø±:* ${Ø§Ù„Ø­Ø¬Ø±}`}${Ø§Ù„Ø­Ø¨Ù„ === 0 ? '' : `\n*${rpg.emoticon('string')} Ø§Ù„Ø­Ø¨Ù„:* ${Ø§Ù„Ø­Ø¨Ù„}`}${Ø§Ù„Ø£Ù„Ù…Ø§Ø³ === 0 ? '' : `\n*${rpg.emoticon('diamond')} Ø§Ù„Ø£Ù„Ù…Ø§Ø³:* ${Ø§Ù„Ø£Ù„Ù…Ø§Ø³}`}${Ø§Ù„Ø¹Ø§Ø¯ÙŠ === 0 ? '' : `\n*${rpg.emoticon('common')} Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø¹Ø§Ø¯ÙŠ:* ${Ø§Ù„Ø¹Ø§Ø¯ÙŠ}`}${ØºÙŠØ±_Ø§Ù„Ø¹Ø§Ø¯ÙŠ === 0 ? '' : `\n*${rpg.emoticon('uncommon')} Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ ØºÙŠØ± Ø§Ù„Ø¹Ø§Ø¯ÙŠ:* ${ØºÙŠØ±_Ø§Ù„Ø¹Ø§Ø¯ÙŠ}`}`;

    conn.reply(m.chat, str, m);

    if (Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ > 0) {
      Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….mythic += Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ;
      conn.reply(m.chat, `ðŸŽ‰ *ØªÙ‡Ø§Ù†ÙŠÙ†Ø§!*\nÙ„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± *Ù†Ø§Ø¯Ø±* ÙˆÙ‡Ùˆ *${Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ}* ${rpg.emoticon('mythic')} Mythic Crate`, m);
    }

    if (Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ_Ø§Ù„ÙƒØ¨ÙŠØ± > 0) {
      Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….legendary += Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ_Ø§Ù„ÙƒØ¨ÙŠØ±;
      conn.reply(m.chat, `ðŸŽ‰ *ØªÙ‡Ø§Ù†ÙŠÙ†Ø§!*\nÙ„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± *Ù…Ù„Ø­Ù…ÙŠ* ÙˆÙ‡Ùˆ *${Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ_Ø§Ù„ÙƒØ¨ÙŠØ±}* ${rpg.emoticon('legendary')} Legendary Crate`, m);
    }
  } catch (e) {
    console.log(e);
    throw e;
  }
};

handler.help = ['Ù…ØºØ§Ù…Ø±Ø©', 'Ø¹Ù…Ù„'];
handler.tags = ['rpg'];
handler.command = /^(Ù…ØºØ§Ù…Ø±Ø©|Ø¹Ù…Ù„)$/i;

handler.fail = null;
handler.register = false;
handler.group = true;
export default handler;

function pickRandom(list) {
  return list[Math.floor(Math.random() * list.length)];
}

function clockString(ms) {
  let d = isNaN(ms) ? '--' : Math.floor(ms / 86400000);
  let h = isNaN(ms) ? '--' : Math.floor(ms / 3600000) % 24;
  let m = isNaN(ms) ? '--' : Math.floor(ms / 60000) % 60;
  let s = isNaN(ms) ? '--' : Math.floor(ms / 1000) % 60;
  return ['\n' + d, ' *Ø£ÙŠØ§Ù… â˜€ï¸*\n ', h, ' *Ø³Ø§Ø¹Ø§Øª ðŸ•*\n ', m, ' *Ø¯Ù‚Ø§Ø¦Ù‚ â°*\n ', s, ' *Ø«ÙˆØ§Ù†ÙŠ â±ï¸* '].map(v => v.toString().padStart(2, 0)).join('');
}
